# 联系模块规范

## 概述

联系模块是个人作品展示网站的转化终点，承载着将访客转化为客户的关键任务。该模块提供多种联系方式和便捷的在线咨询表单，降低潜在客户的沟通门槛，促进商务合作的达成。设计目标是让客户在 1 分钟内完成联系操作，同时收集足够的项目信息以便后续高效沟通。

模块采用双栏布局，左侧展示社交联系方式（邮箱、微信、GitHub 等）和在线状态，右侧提供结构化的咨询表单。页面顶部显示接单状态指示器，明确告知客户当前是否可接新项目。表单设计遵循最小化原则，仅收集必要信息，支持匿名提交以降低联系门槛。提交成功后显示确认信息，并告知预期的响应时间，建立合理预期。

## 功能需求

### 社交联系方式

社交联系方式区域展示工程师的各类联系方式，采用图标加信息的垂直列表布局。每个联系方式包含平台图标、显示名称、具体账号或地址、复制按钮和跳转链接。支持的联系方式包括：

邮箱地址显示完整地址，点击复制到剪贴板，显示「已复制」Toast 提示。点击跳转链接使用 mailto: 协议打开本地邮件客户端。微信号显示二维码图片或直接显示微信号，点击可复制微信号，扫码加好友。GitHub 主页显示用户名和仓库链接，点击跳转至个人主页。掘金、知乎等技术社区显示个人主页链接。电话（可选）显示号码，点击拨打。

每个联系方式右侧设置复制图标按钮，点击后复制对应信息到剪贴板并显示 Toast 提示。复制功能需处理权限异常情况，失败时显示错误提示。社交区域上方显示当前接单状态，使用颜色标签标识：绿色「可接单」、橙色「排期中」、灰色「暂停接单」。状态下方可附加简要说明，如「预计 2 周内可启动新项目」。

### 在线咨询表单

在线咨询表单是联系模块的核心功能，提供结构化的需求提交入口。表单包含以下字段：

项目类型为下拉选择框，必填，选项包括「Web 后端开发」「API 接口设计」「微服务架构」「代码优化咨询」「技术培训」「其他」。预算区间为单选按钮组或下拉选择框，必填，选项包括「5000 元以下」「5000 - 20000 元」「20000 - 50000 元」「50000 元以上」「待商议」。项目周期为单选按钮组或下拉选择框，必填，选项包括「紧急（1 周内）」「短期（1 个月内）」「中期（1 - 3 个月）」「长期合作」「待商议」。姓名为单行文本输入框，选填，建议填写。联系方式为单行文本输入框，必填，支持邮箱或微信或电话。项目描述为多行文本输入框，必填，最少 20 字，最多 500 字，限制高度 150 像素，可展开编辑。附件上传为可选功能，支持上传单个文件（最大 5MB），格式限制为 PDF、DOC、DOCX、JPG、PNG。

表单字段布局遵循逻辑分组：项目基本信息（上半部分）、联系信息（中间）、项目详情（下半部分）。必填字段使用红色星号标识，提交时验证所有必填项。表单底部显示隐私说明，如「您提交的信息将仅用于沟通目的，不会公开或分享给第三方」。

### 表单验证与提交

表单验证分为即时验证和提交验证两种方式。即时验证在字段失去焦点时触发，验证格式正确性并显示错误提示。提交验证在点击提交按钮时触发，验证所有必填项和格式要求。

邮箱格式验证使用正则表达式检查格式合法性。项目描述最少 20 字限制在输入时实时显示剩余可输入字数。预算和周期字段必须选择有效选项。联系方式必填项验证检查非空字符串。

验证失败时，错误提示显示在对应字段下方，使用红色文字和图标。错误提示信息应具体明确，如「请输入有效的邮箱地址」「项目描述至少需要 20 个字」。

表单提交使用异步请求，提交按钮在请求期间显示加载状态并禁用重复点击。提交成功时显示成功提示模态框，内容包括「感谢您的咨询，我会尽快与您联系」和预期响应时间（如「通常在 24 小时内回复」）。提交失败时显示错误提示，提供重试选项。成功提交后清空表单内容（可选，保留联系方式以便后续跟进）。

### 在线状态与响应承诺

页面顶部或社交区域附近显示实时在线状态。状态检测通过简单的机制实现，如检测当前时间是否在工作时间范围内，或手动设置的状态开关。状态指示器使用绿色圆点表示在线、灰色圆点表示离线。

状态说明文字告知客户预期响应时间，如「在线，随时响应」「离线，24 小时内回复」。工作时间可配置，默认为「周一至周五 9:00 - 18:00，周末回复延迟」。该区域帮助建立客户预期，减少因等待而产生的焦虑。

## 界面需求

### 视觉规范

联系模块整体采用与首页一致的深色主题。联系信息卡片背景色 #1e293b，圆角 12 像素，边框 1 像素 #334155。社交链接列表项之间有 16px 垂直间距，图标使用 24×24 像素。复制按钮使用图标按钮样式，悬停时显示背景色变化。

在线咨询表单区域与左侧信息区域等高，采用左右双栏布局（桌面端）或上下堆叠布局（移动端）。表单背景色与卡片一致，输入框背景色使用 #0f172a，边框 1 像素 #334155，圆角 8 像素。输入框获得焦点时边框颜色变为主色调（如 #f97316），添加轻微外发光效果。

提交按钮使用主色调背景色，文字白色，圆角 8 像素。按钮高度 48px，宽度占满容器。成功提示模态框使用与项目详情模态框一致的样式。

### 响应式设计

桌面端（屏幕宽度 ≥ 1024px）采用左右双栏布局，左侧联系信息宽度 35%，右侧表单宽度 60%。社交链接横向两列排列。表单字段一行两列布局，预算和周期并排显示。

平板端（屏幕宽度 768px 至 1023px）双栏布局保持，列宽调整为各 48%。社交链接单列排列。表单字段在移动端自动切换为单列布局。

移动端（屏幕宽度 < 768px）采用单列上下堆叠布局，联系信息区域在上，表单区域在下。社交链接图标可适当缩小以适应窄屏。表单字段全部单列显示，输入框高度适当增加以适应触摸操作。

### 动画效果

页面加载时左右两栏采用交错淡入动画，左侧先于右侧 100 毫秒。社交链接项依次淡入，延迟 50 毫秒。表单字段加载时使用从上到下的滑入动画。提交按钮在请求期间显示加载 spinner。成功提示模态框从底部滑入并淡入。错误提示出现时使用震动或摇动动画提醒用户。

## 数据需求

### 联系数据

联系数据存储于 data/contact.json，包含以下字段：

```json
{
  "status": "available",
  "statusText": {
    "available": "可接单，随时欢迎新项目",
    "busy": "排期中，预计下月可接新项目",
    "unavailable": "暂停接单，暂无精力承接新项目"
  },
  "workHours": {
    "weekday": "9:00 - 18:00",
    "weekend": "10:00 - 20:00",
    "timezone": "Asia/Shanghai"
  },
  "responseTime": "通常 24 小时内回复",
  "channels": [
    {
      "type": "email",
      "name": "邮箱",
      "value": "dev@example.com",
      "url": "mailto:dev@example.com",
      "icon": "mail",
      "copiable": true
    },
    {
      "type": "wechat",
      "name": "微信",
      "value": "golang-dev",
      "icon": "wechat",
      "qrcode": "/images/contact/wechat-qr.jpg",
      "copiable": true
    },
    {
      "type": "github",
      "name": "GitHub",
      "value": "github.com/zhangdev",
      "url": "https://github.com/zhangdev",
      "icon": "github",
      "copiable": false
    },
    {
      "type": "juejin",
      "name": "掘金",
      "value": "掘金主页",
      "url": "https://juejin.cn/user/zhangdev",
      "icon": "juejin",
      "copiable": false
    }
  ]
}
```

### 表单配置

表单字段配置和选项存储于 data/form-config.json，包含项目类型选项、预算区间选项、项目周期选项等。

### 提交处理

表单数据提交至第三方表单服务（如 Formspree、Netlify Forms），配置信息存储于 .env 文件，包含表单端点 URL 和其他配置项。

## 验收标准

1. 所有联系方式正确显示，复制功能正常工作，Toast 提示正确显示。
2. 表单字段布局在桌面端两列、移动端单列，响应式布局正确。
3. 表单验证即时触发，错误提示清晰具体，提交验证完整。
4. 表单提交异步处理，加载状态、成功提示、错误处理均正常。
5. 接单状态和在线状态显示正确，时间配置生效。
6. 页面 Lighthouse 性能评分：性能 ≥ 90，可访问性 ≥ 90，最佳实践 ≥ 90。
7. 移动端表单输入框点击可聚焦，键盘弹出不影响表单使用。
8. 所有交互元素有点击反馈，动画流畅不卡顿。
9. 表单数据提交端点配置正确，提交成功收到确认邮件（或配置正确）。
10. 隐私说明文字显示正确，表单提交符合基本隐私规范。
